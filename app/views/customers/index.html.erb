<!-- app/views/customers/index.html.erb -->
<div class="dashboard-header">
  <h1>Kunden</h1>
  <div class="dashboard-actions">
    <%= link_to "Neuer Kunde", new_customer_path, class: "btn btn-primary" %>
  </div>
</div>

<div class="table-card">
  <div class="table-toolbar">
    <div class="toolbar-left">
      <h1>Kundenliste</h1>
    </div>
  </div>

  <div class="table-wrapper">
    <table class="data-table">
      <thead>
      <tr>
        <th>Nr</th>
        <th>Name</th>
        <th>Gruppe</th>
        <th class="is-numeric">USt</th>
        <th>Status</th>
        <th class="is-actions">Aktionen</th>
      </tr>
      </thead>
      <tbody>
      <% @customers.each do |k| %>
        <tr id="<%= dom_id(k) %>">
          <td><%= k.kundennr %></td>
          <td class="truncate"><%= k.name %></td>
          <td><%= k.kundgruppe %></td>
          <td class="is-numeric"><%= k.umsatzsteuer %></td>
          <td>
              <span class="status-badge <%= k.aktiv? ? 'success' : 'danger' %>">
                <%= k.aktiv? ? "aktiv" : "gekündigt" %>
              </span>
          </td>
          <td class="is-actions">
            <%= link_to "Anzeigen", k, class: "btn btn-ghost" %>
            <%= link_to "Bearbeiten", edit_customer_path(k), class: "btn btn-ghost" %>
            <%= link_to "Löschen", k,
                        class: "btn btn-ghost danger",
                        data: { turbo_method: :delete, turbo_confirm: "Wirklich löschen?" } %>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
</div>